<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Multi-label Classification Example - Structured Outputs by Example</title>
    <meta name="description" content="This example demonstrates various approaches to multi-label classification using Instructor:
1.">
    <meta name="author" content="Jason Liu">
    <meta name="keywords" content="structured outputs, LLM, Instructor, Pydantic, data extraction, structured data">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://structuredoutputsbyexample.com/019-multi-label-classification/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://structuredoutputsbyexample.com/019-multi-label-classification/">
    <meta property="og:title" content="Multi-label Classification Example - Structured Outputs by Example">
    <meta property="og:description" content="This example demonstrates various approaches to multi-label classification using Instructor:
1.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://structuredoutputsbyexample.com/019-multi-label-classification/">
    <meta property="twitter:title" content="Multi-label Classification Example - Structured Outputs by Example">
    <meta property="twitter:description" content="This example demonstrates various approaches to multi-label classification using Instructor:
1.">

    <!-- Structured Data / JSON-LD -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TechArticle",
  "headline": "Multi-label Classification Example",
  "description": "This example demonstrates various approaches to multi-label classification using Instructor:\n1.",
  "author": {
    "@type": "Person",
    "name": "Jason Liu"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Structured Outputs by Example",
    "url": "https://structuredoutputsbyexample.com"
  },
  "mainEntityOfPage": "https://structuredoutputsbyexample.com/019-multi-label-classification/",
  "datePublished": "2025-04-10T02:23:30+00:00",
  "dateModified": "2025-04-10T02:23:30+00:00",
  "articleSection": "Classification and Analysis",
  "keywords": [
    "structured data",
    "LLM",
    "Instructor",
    "Pydantic",
    "multi label classification"
  ]
}
    </script>

    <!-- Stylesheets -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css'>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js'></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap');
        
        code, pre code, .hljs {
            font-family: 'Fira Code', 'JetBrains Mono', monospace;
            font-feature-settings: "liga" 1;
        }
        
        @supports (font-variation-settings: normal) {
            code, pre code, .hljs {
                font-family: 'Fira Code VF', 'JetBrains Mono', monospace;
            }
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            hljs.highlightAll();
        });
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.5;
            color: #222;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }
        header {
            border-bottom: 1px solid #eee;
            padding: 15px 0;
            margin-bottom: 20px;
        }
        .site-title {
            text-decoration: none;
            color: #0066CC;
            font-weight: 500;
            font-size: 20px;
        }
        main {
            padding-bottom: 40px;
        }
        footer {
            border-top: 1px solid #eee;
            padding: 15px 0;
            margin-top: 20px;
            color: #666;
            font-size: 0.9em;
        }
        h1 {
            font-size: 36px;
            font-weight: 500;
            margin: 0 0 25px 0;
            color: #333;
        }
        p {
            margin: 20px 0;
            color: #444;
            line-height: 1.6;
        }
        a {
            color: #0066CC;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .example-link {
            margin: 4px 0;
            line-height: 1.3;
        }
        .row {
            display: flex;
            width: 100%;
            margin-bottom: 30px;
            gap: 40px;
        }
        .docs {
            flex: 0.75;
            min-width: 0;
            color: #444;
            line-height: 1.6;
            font-size: 1em;
        }
        .code {
            flex: 2.25;
            min-width: 0;
            position: relative;
        }
        pre {
            margin: 0;
            padding: 20px;
            background-color: #f8f8f8;
            border-radius: 5px;
            overflow-x: auto;
            line-height: 1.5;
        }
        /* Prevent double styling from highlight.js */
        pre code.hljs, pre code {
            background-color: transparent;
            padding: 0;
            margin: 0;
            border: none;
        }
        .leading {
            margin-bottom: 5px;
        }
        hr {
            border: none;
            border-top: 1px solid #eee;
            margin: 20px 0;
        }
        .buttons {
            position: absolute;
            top: 5px;
            right: 5px;
            z-index: 10;
        }
        .copy {
            cursor: pointer;
            width: 18px;
            height: 18px;
            opacity: 0.6;
            color: #666;
            background-color: #f8f8f8;
            border-radius: 3px;
            padding: 3px;
        }
        .copy:hover {
            opacity: 1;
            color: #0066CC;
        }
        .tooltip {
            position: absolute;
            background: #333;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            top: -25px;
            right: 0;
        }
        .command-prompt {
            color: #888;
        }
        .command-text {
            font-weight: bold;
        }
        .navigation {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .prev, .next {
            margin: 5px 0;
            font-weight: 500;
        }
        .prev {
            margin-right: auto;
        }
        .next {
            margin-left: auto;
        }
        .prev span, .next span {
            color: #666;
            font-weight: normal;
        }
        @media (max-width: 900px) {
            .row {
                flex-direction: column;
            }
            .docs, .code {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="../" class="site-title">Structured Outputs by Example</a>
        </header>
        <main>
            <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                <div>
                    <div style="margin-bottom: 10px; color: #666; font-size: 0.9em;">
                        <a href="../" style="text-decoration: none; color: #666;">Classification and Analysis</a>
                    </div>
                    <h1 style="margin: 0; margin-bottom: 10px;">Multi-label Classification Example</h1>
                </div>
                <div style="position: relative; margin-top: 10px; display: flex; gap: 8px;">
                    <button id="copy-all-python" style="background-color: #f1f8ff; border: 1px solid #c8e1ff; border-radius: 6px; padding: 6px 12px; font-size: 14px; color: #0066CC; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
                        </svg>
                        Copy All Python
                    </button>
                    <a href="https://github.com/jxnl/structuredoutputsbyexample/edit/main/examples/019-multi-label-classification/multi-label-classification.py" target="_blank" style="background-color: #f6f1ff; border: 1px solid #d8c9f7; border-radius: 6px; padding: 6px 12px; font-size: 14px; color: #6f42c1; text-decoration: none; cursor: pointer; display: flex; align-items: center; gap: 6px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="currentColor"/>
                        </svg>
                        Edit
                    </a>
                    <div id="all-python-code" style="display: none;">from pydantic import BaseModel, Field
from typing import List, Optional
from enum import Enum
import instructor
from openai import OpenAI
client = instructor.from_openai(OpenAI())
class MultiLabelClassification(BaseModel):
    &quot;&quot;&quot;Multi-label classification of text content&quot;&quot;&quot;
    labels: List[str] = Field(
        description=&quot;List of applicable category labels for the text&quot;
    )
def classify_text(text: str) -&gt; MultiLabelClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=MultiLabelClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into one or more of these categories:
                - Technology
                - Finance
                - Health
                - Sports
                - Entertainment
                - Politics
                - Science
                - Education

                Return all categories that apply to the text.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )
class Category(str, Enum):
    BUSINESS = &quot;business&quot;
    TECHNOLOGY = &quot;technology&quot;
    POLITICS = &quot;politics&quot;
    HEALTH = &quot;health&quot;
    ENTERTAINMENT = &quot;entertainment&quot;
    SPORTS = &quot;sports&quot;
    SCIENCE = &quot;science&quot;
    EDUCATION = &quot;education&quot;
class EnumMultiLabelClassification(BaseModel):
    &quot;&quot;&quot;Multi-label classification using predefined categories&quot;&quot;&quot;
    categories: List[Category] = Field(
        description=&quot;List of applicable categories from the predefined set&quot;
    )
def classify_with_enums(text: str) -&gt; EnumMultiLabelClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=EnumMultiLabelClassification,
        messages=[
            {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;Classify the text into one or more predefined categories.&quot;},
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )
class LabelWithConfidence(BaseModel):
    label: str
    confidence: float = Field(gt=0, le=1)  # Between 0 and 1

class ConfidenceClassification(BaseModel):
    labels: List[LabelWithConfidence] = Field(
        description=&quot;List of applicable labels with confidence scores&quot;
    )

def classify_with_confidence(text: str) -&gt; ConfidenceClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=ConfidenceClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into these categories and provide confidence scores (0-1):
                - Technology
                - Finance
                - Health
                - Sports
                - Entertainment
                Only include categories that apply with a confidence score over 0.4.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )
class SubCategory(BaseModel):
    name: str
    confidence: float = Field(gt=0, le=1)

class MainCategory(BaseModel):
    name: str
    confidence: float = Field(gt=0, le=1)
    subcategories: List[SubCategory] = []

class HierarchicalClassification(BaseModel):
    categories: List[MainCategory] = Field(
        description=&quot;Hierarchical categories with confidence scores&quot;
    )
def classify_hierarchical(text: str) -&gt; HierarchicalClassification:
    return client.chat.completions.create(
        model=&quot;gpt-4&quot;,  # More complex tasks work better with GPT-4
        response_model=HierarchicalClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into main categories and subcategories:

                Main categories:
                - Technology (subcategories: Hardware, Software, AI, Internet)
                - Science (subcategories: Physics, Biology, Chemistry, Astronomy)
                - Health (subcategories: Fitness, Nutrition, Medical, Mental Health)

                Return only relevant categories with confidence scores.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )
result = classify_text(&quot;Researchers have developed a new AI algorithm that can detect early signs of Alzheimer&#x27;s disease from brain scans with 94% accuracy. The deep learning software could help doctors diagnose patients years earlier than current methods.&quot;)
</div>
                </div>            </div>
            <p style="margin: 20px 0 40px 0; color: #444; line-height: 1.6; font-size: 1.1em;">
                This example demonstrates various approaches to multi-label classification using Instructor:
1. Basic multi-label classification with string labels
2. Using Enums for predefined categories
3. Classification with confidence scores
4. Hierarchical classification with main and subcategories

Each approach shows how to structure your Pydantic models for different classification needs.
            </p>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Import the necessary libraries</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">from pydantic import BaseModel, Field
from typing import List, Optional
from enum import Enum
import instructor
from openai import OpenAI</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Initialize the instructor-enhanced OpenAI client</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">client = instructor.from_openai(OpenAI())</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a MultiLabelClassification model with Pydantic</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">class MultiLabelClassification(BaseModel):
    &quot;&quot;&quot;Multi-label classification of text content&quot;&quot;&quot;
    labels: List[str] = Field(
        description=&quot;List of applicable category labels for the text&quot;
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">def classify_text(text: str) -&gt; MultiLabelClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=MultiLabelClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into one or more of these categories:
                - Technology
                - Finance
                - Health
                - Sports
                - Entertainment
                - Politics
                - Science
                - Education

                Return all categories that apply to the text.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a Category enum for predefined categories</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">class Category(str, Enum):
    BUSINESS = &quot;business&quot;
    TECHNOLOGY = &quot;technology&quot;
    POLITICS = &quot;politics&quot;
    HEALTH = &quot;health&quot;
    ENTERTAINMENT = &quot;entertainment&quot;
    SPORTS = &quot;sports&quot;
    SCIENCE = &quot;science&quot;
    EDUCATION = &quot;education&quot;</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text with enums</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">class EnumMultiLabelClassification(BaseModel):
    &quot;&quot;&quot;Multi-label classification using predefined categories&quot;&quot;&quot;
    categories: List[Category] = Field(
        description=&quot;List of applicable categories from the predefined set&quot;
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text with enums</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">def classify_with_enums(text: str) -&gt; EnumMultiLabelClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=EnumMultiLabelClassification,
        messages=[
            {&quot;role&quot;: &quot;system&quot;, &quot;content&quot;: &quot;Classify the text into one or more predefined categories.&quot;},
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text with confidence scores</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">class LabelWithConfidence(BaseModel):
    label: str
    confidence: float = Field(gt=0, le=1)  # Between 0 and 1

class ConfidenceClassification(BaseModel):
    labels: List[LabelWithConfidence] = Field(
        description=&quot;List of applicable labels with confidence scores&quot;
    )

def classify_with_confidence(text: str) -&gt; ConfidenceClassification:
    return client.chat.completions.create(
        model=&quot;gpt-3.5-turbo&quot;,
        response_model=ConfidenceClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into these categories and provide confidence scores (0-1):
                - Technology
                - Finance
                - Health
                - Sports
                - Entertainment
                Only include categories that apply with a confidence score over 0.4.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text hierarchically</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">class SubCategory(BaseModel):
    name: str
    confidence: float = Field(gt=0, le=1)

class MainCategory(BaseModel):
    name: str
    confidence: float = Field(gt=0, le=1)
    subcategories: List[SubCategory] = []

class HierarchicalClassification(BaseModel):
    categories: List[MainCategory] = Field(
        description=&quot;Hierarchical categories with confidence scores&quot;
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Define a function to classify text hierarchically</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">def classify_hierarchical(text: str) -&gt; HierarchicalClassification:
    return client.chat.completions.create(
        model=&quot;gpt-4&quot;,  # More complex tasks work better with GPT-4
        response_model=HierarchicalClassification,
        messages=[
            {
                &quot;role&quot;: &quot;system&quot;,
                &quot;content&quot;: &quot;&quot;&quot;
                Classify the text into main categories and subcategories:

                Main categories:
                - Technology (subcategories: Hardware, Software, AI, Internet)
                - Science (subcategories: Physics, Biology, Chemistry, Astronomy)
                - Health (subcategories: Fitness, Nutrition, Medical, Mental Health)

                Return only relevant categories with confidence scores.
                &quot;&quot;&quot;
            },
            {&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: f&quot;Text for classification: {text}&quot;}
        ]
    )</code></pre>
                </div>
            </div>
            <hr>
            <div class="row">
                <div class="docs">
                    <div style='font-size: 0.9em; color: #666;'>Test the multi-label classification
Output:
Labels: technology, science, health</div>

                </div>
                <div class="code">
                    <pre><code class="language-python">result = classify_text(&quot;Researchers have developed a new AI algorithm that can detect early signs of Alzheimer&#x27;s disease from brain scans with 94% accuracy. The deep learning software could help doctors diagnose patients years earlier than current methods.&quot;)</code></pre>
                </div>
            </div>
            <hr>
            <h2>Running the Example</h2>
            <div class="row">
                <div class="docs" style='font-size: 0.9em; color: #666;'>
                    First, install Instructor and any dependencies
                </div>
                <div class="code">
                    <div class="buttons">
                        <svg class="copy" title="Copy command" onclick="copyCode(this)" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <pre><code class="language-shell"><span><span class="command-prompt">$ </span><span class="command-text">pip install instructor pydantic</span></span>
</code></pre>
                </div>
            </div>
            <div class="row">
                <div class="docs" style='font-size: 0.9em; color: #666;'>
                    Run the Python script
                </div>
                <div class="code">
                    <div class="buttons">
                        <svg class="copy" title="Copy command" onclick="copyCode(this)" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16 1H4C2.9 1 2 1.9 2 3V17H4V3H16V1ZM19 5H8C6.9 5 6 5.9 6 7V21C6 22.1 6.9 23 8 23H19C20.1 23 21 22.1 21 21V7C21 5.9 20.1 5 19 5ZM19 21H8V7H19V21Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <pre><code class="language-shell"><span><span class="command-prompt">$ </span><span class="command-text">python multi-label-classification.py</span></span>
</code></pre>
                </div>
            </div>
            <hr>
            <h4>Further Information</h4>
            <ul style="font-size: 0.9em;">
                <li><a href="https://github.com/jxnl/instructor"
                         target="_blank">Documentation link 1</a></li>
            </ul>
            <div class="navigation">
                <p class="prev">
                    <span>← Previous:</span> <a href="../018-simple-classification/">Simple Classification</a>
                </p>
                <p class="next">
                    <span>Next:</span> <a href="../023-streaming-basics/">Streaming Basics</a> →
                </p>
            </div>
        </main>
        <footer>
            <p>by <a href="https://github.com/jxnl/instructor">Instructor</a> | <a href="https://github.com/jxnl/instructor">GitHub</a> | <span style="color: #888; font-size: 0.9em;">Last updated: April 10, 2025</span></p>
        </footer>
    </div>
    <script>
        // Function to copy code to clipboard
        function copyCode(button) {
            const codeBlock = button.closest('.code').querySelector('pre');
            const code = codeBlock.textContent;
            copyToClipboard(code, button);
        }
        
        // Function to copy all Python code
        document.addEventListener('DOMContentLoaded', function() {
            const copyAllButton = document.getElementById('copy-all-python');
            if (copyAllButton) {
                copyAllButton.addEventListener('click', function() {
                    const allCodeElement = document.getElementById('all-python-code');
                    const code = allCodeElement.textContent;
                    copyToClipboard(code, copyAllButton);
                });
            }
        });
        
        // Shared function to copy text and show tooltip
        function copyToClipboard(text, element) {
            // For older browsers, fallback to textarea method
            if (!navigator.clipboard) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';  // Avoid scrolling to bottom
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    showTooltip(element, 'Copied!');
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    showTooltip(element, 'Error!');
                }
                
                document.body.removeChild(textArea);
                return;
            }
            
            // Use clipboard API if available
            navigator.clipboard.writeText(text).then(() => {
                showTooltip(element, 'Copied!');
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                showTooltip(element, 'Error!');
            });
        }
        
        // Helper to show tooltip
        function showTooltip(element, message) {
            // Check if there's already a tooltip
            let tooltip = element.parentElement.querySelector('.tooltip');
            if (tooltip) {
                tooltip.textContent = message;
            } else {
                // Create and append new tooltip
                tooltip = document.createElement('span');
                tooltip.textContent = message;
                tooltip.className = 'tooltip';
                tooltip.style.position = 'absolute';
                tooltip.style.background = '#333';
                tooltip.style.color = 'white';
                tooltip.style.padding = '2px 8px';
                tooltip.style.borderRadius = '4px';
                tooltip.style.fontSize = '12px';
                tooltip.style.top = '-25px';
                tooltip.style.right = '0';
                
                // Make sure the parent has position relative for tooltip positioning
                if (getComputedStyle(element.parentElement).position === 'static') {
                    element.parentElement.style.position = 'relative';
                }
                
                element.parentElement.appendChild(tooltip);
            }
            
            // Remove tooltip after 1.5 seconds
            setTimeout(() => tooltip.remove(), 1500);
        }

        // Enable keyboard navigation between examples
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) {
                return;
            }
            
            if (e.key === 'ArrowRight') {
                const nextLink = document.querySelector('.next a');
                if (nextLink) {
                    window.location.href = nextLink.getAttribute('href');
                }
            }
            
            if (e.key === 'ArrowLeft') {
                const prevLink = document.querySelector('.prev a');
                if (prevLink) {
                    window.location.href = prevLink.getAttribute('href');
                }
            }
        });
    </script>
</body>
</html>
